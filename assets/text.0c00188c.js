import{w as T,$ as U,o as Q,g as k,n as P,a0 as b,r as _,J as x,h as A,a1 as G,a2 as R,a3 as j,a as D,a4 as F,k as K,a5 as N,a6 as B,a7 as M,i as O,q as W,a8 as z}from"./index.54446c61.js";import{r as I,f as X}from"./useMetaMask.39d0c9bc.js";const re={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},ae=["before-show","show","before-hide","hide"];function ue({showing:e,canShow:t,hideOnRouteChange:o,handleShow:i,handleHide:l,processOnMount:f}){const u=k(),{props:s,emit:r,proxy:w}=u;let a;function h(n){e.value===!0?E(n):v(n)}function v(n){if(s.disable===!0||n!==void 0&&n.qAnchorHandled===!0||t!==void 0&&t(n)!==!0)return;const p=s["onUpdate:modelValue"]!==void 0;p===!0&&(r("update:modelValue",!0),a=n,P(()=>{a===n&&(a=void 0)})),(s.modelValue===null||p===!1)&&L(n)}function L(n){e.value!==!0&&(e.value=!0,r("before-show",n),i!==void 0?i(n):r("show",n))}function E(n){if(s.disable===!0)return;const p=s["onUpdate:modelValue"]!==void 0;p===!0&&(r("update:modelValue",!1),a=n,P(()=>{a===n&&(a=void 0)})),(s.modelValue===null||p===!1)&&q(n)}function q(n){e.value!==!1&&(e.value=!1,r("before-hide",n),l!==void 0?l(n):r("hide",n))}function S(n){s.disable===!0&&n===!0?s["onUpdate:modelValue"]!==void 0&&r("update:modelValue",!1):n===!0!==e.value&&(n===!0?L:q)(a)}T(()=>s.modelValue,S),o!==void 0&&U(u)===!0&&T(()=>w.$route.fullPath,()=>{o.value===!0&&e.value===!0&&E()}),f===!0&&Q(()=>{S(s.modelValue)});const V={show:v,hide:E,toggle:h};return Object.assign(w,V),V}const y=[];function Y(e){return y.find(t=>t.__qPortalInnerRef.value!==null&&t.__qPortalInnerRef.value.contains(e))}function J(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return b(e)}else if(e.__qPortalInnerRef!==void 0){const o=b(e);return o!==void 0&&o.$options.name==="QPopupProxy"?(e.hide(t),o):e}e=b(e)}while(e!=null)}function Z(e,t,o){for(;o!==0&&e!==void 0&&e!==null;){if(e.__qPortalInnerRef!==void 0){if(o--,e.$options.name==="QMenu"){e=J(e,t);continue}e.hide(t)}e=b(e)}}function ee(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function de(e,t,o,i){const l=_(!1),f=_(!1);let u=null;const s={},r=i===!0&&ee(e);function w(h){if(h===!0){I(s),f.value=!0;return}f.value=!1,l.value===!1&&(r===!1&&u===null&&(u=R()),l.value=!0,y.push(e.proxy),X(s))}function a(h){if(f.value=!1,h!==!0)return;I(s),l.value=!1;const v=y.indexOf(e.proxy);v!==-1&&y.splice(v,1),u!==null&&(j(u),u=null)}return x(()=>{a(!0)}),e.proxy.__qPortalInnerRef=t,{showPortal:w,hidePortal:a,portalIsActive:l,portalIsAccessible:f,renderPortal:()=>r===!0?o():l.value===!0?[A(G,{to:u},o())]:void 0}}const ce={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function fe(e,t){const o=_(t.value);return T(t,i=>{P(()=>{o.value=i})}),{transition:D(()=>"q-transition--"+(o.value===!0?e.transitionHide:e.transitionShow)),transitionStyle:D(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function pe(){let e;const t=k();function o(){e=void 0}return F(o),K(o),{removeTick:o,registerTick(i){e=i,P(()=>{e===i&&(N(t)===!1&&e(),e=void 0)})}}}function me(){let e;const t=k();function o(){clearTimeout(e)}return F(o),K(o),{removeTimeout:o,registerTimeout(i,l){clearTimeout(e),N(t)===!1&&(e=setTimeout(i,l))}}}const te=[null,document,document.body,document.scrollingElement,document.documentElement];function he(e,t){let o=B(t);if(o===void 0){if(e==null)return window;o=e.closest(".scroll,.scroll-y,.overflow-auto")}return te.includes(o)?window:o}function ve(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function we(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let g;function ge(){if(g!==void 0)return g;const e=document.createElement("p"),t=document.createElement("div");M(e,{width:"100%",height:"200px"}),M(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const o=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return o===i&&(i=t.clientWidth),t.remove(),g=o-i,g}function be(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}const d=[];let m;function oe(e){m=e.keyCode===27}function ne(){m===!0&&(m=!1)}function ie(e){m===!0&&(m=!1,O(e,27)===!0&&d[d.length-1](e))}function $(e){window[e]("keydown",oe),window[e]("blur",ne),window[e]("keyup",ie),m=!1}function ye(e){W.is.desktop===!0&&(d.push(e),d.length===1&&$("addEventListener"))}function Pe(e){const t=d.indexOf(e);t>-1&&(d.splice(t,1),d.length===0&&$("removeEventListener"))}const c=[];function H(e){c[c.length-1](e)}function Ee(e){W.is.desktop===!0&&(c.push(e),c.length===1&&document.body.addEventListener("focusin",H))}function Te(e){const t=c.indexOf(e);t>-1&&(c.splice(t,1),c.length===0&&document.body.removeEventListener("focusin",H))}function C(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var _e=z({name:"close-popup",beforeMount(e,{value:t}){const o={depth:C(t),handler(i){o.depth!==0&&setTimeout(()=>{const l=Y(e);l!==void 0&&Z(l,i,o.depth)})},handlerKey(i){O(i,13)===!0&&o.handler(i)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:t,oldValue:o}){t!==o&&(e.__qclosepopup.depth=C(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const ke=e=>e.slice(0,6)+"..."+e.slice(-4);export{_e as C,ce as a,ae as b,pe as c,me as d,fe as e,ue as f,ge as g,de as h,Ee as i,Pe as j,he as k,ye as l,J as m,ve as n,we as o,y as p,be as q,Te as r,ke as t,re as u};
